<!DOCTYPE html>
<html>
<head>  
    <meta charset="utf-8">
    <title> Pirate Talk </title>
    
    <script> 
        PHRASES = [["hello", "ahoy"], ["hi", "yo-ho-ho"], ["pardon me", "avast"], 
               ["excuse me", "arrr"], 
               ["my", "me"], ["friend", "me bucko"], ["sir", "matey"], 
               ["madam", "proud beauty"], ["miss", "comely wench"], 
               ["stranger", "scurvy dog"], ["officer", "foul blaggart"], 
               ["where", "whar"], ["is", "be"], ["the", "th'"], ["you", "ye"],
               ["tell", "be tellin'"], ["know", "be knowin'"],
               ["how far", "how many leagues"], ["old", "barnacle-covered"],
               ["attractive", "comely"], ["happy", "grog-filled"], 
               ["nearby", "broadside"], ["restroom", "head"], 
               ["restaurant", "galley"], ["hotel", "fleabag inn"], 
               ["pub", "Skull & Scuppers"], ["bank", "buried trasure"]];
                
        function Capitalize(str)
        // Returns: a copy of str with the first letter capitalized
        {
            return str.charAt(0).toUpperCase() + str.substring(1);
        }
        
        function Translate(text)
        // Returns: a copy of text with English phrases replaced by piratey equivalemts 
        {
            // EXAMPLE :: bank
            for (var i = 0; i < PHRASES.length; i++) {
                var toReplace = new RegExp("\\b"+PHRASES[i][0]+"\\b", "i");

                var index = text.search(toReplace);
                while (index != -1) {
                    if (text.charAt(index) >= "A" && text.charAt(index) <= "Z") {
                        text = text.replace(toReplace, Capitalize(PHRASES[i][1]));
                    } 
                    else {
                        text = text.replace(toReplace, PHRASES[i][1]);
                    }
                    index = text.search(toReplace);
                }
        }
            return text;
        }
          
        function pirate() {
            var cont = true;
            var c = 0;
            
            while(cont)
            {
                var retVal = prompt("Translate English To Pirate Talk, Me Bucko ", "Enter text here");
                //var str = retVal.split(/[\s]/);
                
                if(retVal == "")
                {
                    cont = false;
                    document.write("." + '<br>');
                }
                else 
                {
                    if(c == 0)
                        document.write(Capitalize(Translate(retVal)) + " ");
                    else
                        document.write(Translate(retVal) + " ");
                    c++;
                }
                
            }
        }
    </script>
    
</head>
    
<body>
    <body style = "text-align: center;">
        
    <img src="pirate.png" alt="Arrgg Matty" width="500"
    height="200">
        
    <h1 style = "color:blueviolet"> Talk Like a Pirate: </h1>  
        <body onload="pirate()"></body>
        <!--
        <form>
            <input type = "button" value = "Click to Talk Like a Pirate:" onclick = "pirate();" />
        </form>
        -->
    </body>
</body>
</html>